import{e,o as t,c as n,w as i,h as a,a3 as r,a4 as o,a5 as s,C as l,J as u,f,u as c,F as h,A as g,D as d,Q as p,$ as m,a0 as v,a6 as S,B as b,g as I,a7 as x,r as P,l as y,a8 as T,a9 as D,i as C,aa as F,ab as w,ac as O,I as E,d as L,ad as B,b as M,a as k}from"./vendor.f18ad4dc.js";import{u as R,_ as U,j as G}from"./index.199625a2.js";const N=[{label:"标准",theme:{primaryColor:"#000000",secondaryColor:"#7e7e7c",background:"#ffffff"}},{label:"黑色",theme:{primaryColor:"#ffffff",secondaryColor:"#ffffff",background:"#000000"}},{label:"灰色",theme:{primaryColor:"#000000",secondaryColor:"#000000",background:"#F5F5F5"}}],A=e({inheritAttrs:!1,__name:"ColorPicker",props:{label:{default:""}},setup(e){const u=e;return(e,f)=>{const c=s,h=l;return t(),n(h,{label:u.label},{default:i((()=>[a(c,r(o(e.$attrs)),null,16)])),_:1},8,["label"])}}}),_=g("颜色预设"),z=e({__name:"ThemeEditor",props:{config:null},setup(e){const n=u(e,"config"),r=N.map(((e,t)=>({label:e.label,key:t})));function o(e){e="string"==typeof e?parseInt(e):e;const t=N[e];if(t){const e=t.theme;n.value.theme.primaryColor=e.primaryColor,n.value.theme.background=e.background,n.value.theme.secondaryColor=e.secondaryColor}}return(e,s)=>{const l=d,u=p;return t(),f(h,null,[a(A,{label:"主文本色",value:c(n).theme.primaryColor,"onUpdate:value":s[0]||(s[0]=e=>c(n).theme.primaryColor=e)},null,8,["value"]),a(A,{label:"副文本色",value:c(n).theme.secondaryColor,"onUpdate:value":s[1]||(s[1]=e=>c(n).theme.secondaryColor=e)},null,8,["value"]),a(A,{label:"边框颜色",value:c(n).theme.background,"onUpdate:value":s[2]||(s[2]=e=>c(n).theme.background=e)},null,8,["value"]),a(u,{trigger:"click",options:c(r),onSelect:o},{default:i((()=>[a(l,{type:"primary",block:""},{default:i((()=>[_])),_:1})])),_:1},8,["options"])],64)}}}),$=[{key:"photo by {artist}",label:"作者"},{key:"{focalLength}mm f/{F} {S} ISO{ISO}",label:"焦段与曝光"},{key:"{dateTime}",label:"时间"},{key:"{date}",label:"日期"},{key:"{lensModel}",label:"镜头信息"},{key:"{make} {model}",label:"相机信息"}],W=g("模板"),V=e({inheritAttrs:!1,__name:"DescTextInput",props:{label:{default:""},value:{default:""}},emits:["update:value"],setup(e,{emit:r}){const o=e;function s(e){r("update:value",e.toString())}return(r,u)=>{const f=v,h=d,g=p,b=S,I=l;return t(),n(I,{label:o.label},{default:i((()=>[a(b,null,{default:i((()=>[a(f,m({value:e.value},r.$attrs,{"onUpdate:value":s}),null,16,["value"]),a(g,{trigger:"click",options:c($),onSelect:s},{default:i((()=>[a(h,{type:"primary"},{default:i((()=>[W])),_:1})])),_:1},8,["options"])])),_:1})])),_:1},8,["label"])}}}),Y=e({__name:"TextConfigEditor",props:{config:null},setup(e){const n=u(e,"config");return(e,i)=>(t(),f(h,null,[a(V,{label:"左上角文字",placeholder:"左上角文字",value:c(n).ltText.text,"onUpdate:value":i[0]||(i[0]=e=>c(n).ltText.text=e)},null,8,["value"]),a(V,{label:"左下角文字",placeholder:"左下角文字",value:c(n).lbText.text,"onUpdate:value":i[1]||(i[1]=e=>c(n).lbText.text=e)},null,8,["value"]),a(V,{label:"右上角文字",placeholder:"右上角文字",value:c(n).rtText.text,"onUpdate:value":i[2]||(i[2]=e=>c(n).rtText.text=e)},null,8,["value"]),a(V,{label:"右下角文字",placeholder:"右下角文字",value:c(n).rbText.text,"onUpdate:value":i[3]||(i[3]=e=>c(n).rbText.text=e)},null,8,["value"])],64))}}),H=e({inheritAttrs:!1,__name:"FormSlider",props:{label:{default:""}},setup(e){const s=e;return(e,u)=>{const f=b,c=l;return t(),n(c,{label:s.label},{default:i((()=>[a(f,r(o(e.$attrs)),null,16)])),_:1},8,["label"])}}}),J=I("div",{style:{flex:"1"}},null,-1),X=e({__name:"BorderConfigEditor",props:{config:null},setup(e){const n=u(e,"config");return(e,r)=>{const o=x,s=l;return t(),f(h,null,[a(H,{value:c(n).borderSize,"onUpdate:value":r[0]||(r[0]=e=>c(n).borderSize=e),label:"边框大小",min:0,max:200},null,8,["value"]),a(H,{value:c(n).contentSize,"onUpdate:value":r[1]||(r[1]=e=>c(n).contentSize=e),label:"内容大小"},null,8,["value"]),a(s,{"label-placement":"left",label:"使用外边框"},{default:i((()=>[J,a(o,{value:c(n).useOtherBorder,"onUpdate:value":r[2]||(r[2]=e=>c(n).useOtherBorder=e)},null,8,["value"])])),_:1})],64)}}});function j(){const e=P(null);return{filePicker:e,pick:function(){return new Promise(((t,n)=>{const i=e.value;if(!i)return n(new Error("filePicker is null!"));i.onchange=()=>{const e=i.files;if(!e)return n(new Error("no pick!"));t(e)},i.onerror=e=>{n(e)},i.click()}))}}}const q=g(" 本地图片 "),Q=e({__name:"LogoSelector",props:{value:{default:""}},emits:["update:value"],setup(e,{emit:r}){const o=e,{filePicker:s,pick:f}=j(),h=u(R(),"logos"),g=P(0);y((()=>{b()})),T((()=>[o.value,h.value]),(()=>{b()}));const p=D((()=>h.value.map(((e,t)=>({label:e.label,value:t}))))),m=e=>{g.value=e,r("update:value",h.value[e].url)},v=D((()=>!(g.value<0)&&"other"===h.value[g.value].key)),b=()=>{const e=o.value,t=h.value[g.value];if(t&&t.url===e)return;let n=h.value.findIndex((t=>t.url===e&&"other"!==t.key));n<0&&(n=0,e&&(n=h.value.findIndex((e=>"other"===e.key)),n=n<0?0:n),h.value[n].url&&r("update:value",h.value[n].url)),g.value=n},x=()=>{f().then((e=>{const t=e[0];t&&r("update:value",t)}))};return(e,r)=>{const o=F,u=d,f=S,h=l;return t(),n(h,{label:"品牌"},{default:i((()=>[a(f,null,{default:i((()=>[a(o,{value:g.value,options:c(p),"onUpdate:value":m},null,8,["value","options"]),c(v)?(t(),n(u,{key:0,type:"primary",onClick:x},{default:i((()=>[I("input",{type:"file",ref_key:"filePicker",ref:s,hidden:""},null,512),q])),_:1})):C("",!0)])),_:1})])),_:1})}}}),K=e({__name:"LogoCongfigEditor",props:{config:null},setup(e){const n=u(e,"config");return(e,i)=>(t(),f(h,null,[a(Q,{value:c(n).logo,"onUpdate:value":i[0]||(i[0]=e=>c(n).logo=e)},null,8,["value"]),a(H,{value:c(n).logoSize,"onUpdate:value":i[1]||(i[1]=e=>c(n).logoSize=e),label:"logo大小"},null,8,["value"])],64))}}),Z={class:"config-editor"},ee=U(e({__name:"ConfigEditor",props:{config:null},setup(e){const n=e;return(e,r)=>{const o=w,s=O;return t(),f("div",Z,[a(s,{"default-expanded-names":"logo"},{default:i((()=>[a(o,{title:"logo",name:"logo"},{default:i((()=>[a(K,{config:n.config},null,8,["config"])])),_:1}),a(o,{title:"边框",name:"border"},{default:i((()=>[a(X,{config:n.config},null,8,["config"])])),_:1}),a(o,{title:"颜色主题",name:"theme"},{default:i((()=>[a(z,{config:n.config},null,8,["config"])])),_:1}),a(o,{title:"文字信息",name:"text"},{default:i((()=>[a(Y,{config:n.config},null,8,["config"])])),_:1})])),_:1})])}}}),[["__scopeId","data-v-6db0ce97"]]);function te(e,t){return"string"!=typeof e||0===(e=e.split("").map((e=>e.charCodeAt(0)<33?" ":e)).join("").trim()).length?t:e}var ne,ie,ae,re={exports:{}};const oe=re.exports=(ne="minute",ie=/[+-]\d\d(?::?\d\d)?/g,ae=/([+-]|\d\d)/g,function(e,t,n){var i=t.prototype;n.utc=function(e){return new t({date:e,utc:!0,args:arguments})},i.utc=function(e){var t=n(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),ne):t},i.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var a=i.parse;i.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var r=i.init;i.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else r.call(this)};var o=i.utcOffset;i.utcOffset=function(e,t){var n=this.$utils().u;if(n(e))return this.$u?0:n(this.$offset)?o.call(this):this.$offset;if("string"==typeof e&&null===(e=function(e){void 0===e&&(e="");var t=e.match(ie);if(!t)return null;var n=(""+t[0]).match(ae)||["-",0,0],i=n[0],a=60*+n[1]+ +n[2];return 0===a?0:"+"===i?a:-a}(e)))return this;var i=Math.abs(e)<=16?60*e:e,a=this;if(t)return a.$offset=i,a.$u=0===e,a;if(0!==e){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(i+r,ne)).$offset=i,a.$x.$localOffset=r}else a=this.utc();return a};var s=i.format;i.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,t)},i.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var l=i.toDate;i.toDate=function(e){return"s"===e&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var u=i.diff;i.diff=function(e,t,i){if(e&&this.$u===e.$u)return u.call(this,e,t,i);var a=this.local(),r=n(e).local();return u.call(a,r,t,i)}});function se(e,t){if(t=t&&t.trim(),!e)return t;const n=function(e){return{artist:te(e.Artist),F:e.FNumber&&e.FNumber+"",S:le(e.ExposureTime),ISO:e.ISO,EV:ue(e.ExposureCompensation),lensMake:te(e.LensMake),lensModel:te(e.LensModel),make:te(e.Make),model:te(e.Model),dateTime:he(e),date:ge(e),focalLength:fe(e)}}(e);return t.replace(/\{\w+\}/g,(e=>{const t=e.slice(1,e.length-1);return["string","number"].includes(typeof n[t])?n[t]:e}))}function le(e){if(!e)return;if(e>1)return ue(e);return`1/${Math.floor(1/e)}`}function ue(e){if(!e&&"number"!=typeof e)return;let t=e.toFixed(1);return t.endsWith(".0")&&(t=t.slice(0,t.length-2)),t}function fe(e){const t=e.FocalLengthIn35mmFormat||e.FocalLength;return t&&t+""}function ce(e){return e.DateTimeOriginal||e.CreateDate||e.ModifyDate}function he(e){const t=ce(e);if(t)return L.extend(oe),L.utc(1e3*t).format("YYYY-MM-DD HH:mm:ss")}function ge(e){const t=ce(e);if(t)return L.extend(oe),L.utc(1e3*t).format("YYYY-MM-DD")}function de(e,t,n,i){const a=function(e,t){if(!e)return{width:0,height:0,padding:{left:0,right:0,top:0,bottom:0}};let{left:n=0,right:i=0,top:a=0,bottom:r=0}=t;const{width:o,height:s}=e,l=function(e,t){return(e>t?t:e)/5}(o,s)/100;return n*=l,i*=l,a*=l,r*=l,{width:o+n+i,height:s+a+r,padding:{left:n,right:i,top:a,bottom:r}}}(t,{bottom:e.borderSize}),r=function(e,t){const{padding:n}=t;let{contentSize:i}=e;const{left:a=0,right:r=0,bottom:o=0}=n;i/=100;const s=o*i,l=o*(1+i)/2,u=t.width-a-r,f=s/4,c=Se(e)?0:s/2;return{height:s,width:u,top:l,bottom:l,left:0,right:0,gap:s/8,fontSize:s/5,padding:{left:c,right:c,top:f,bottom:f}}}(e,a),{background:o}=e.theme;return function(e,t,n){if(!Se(e))return;const i=n.height/2;t.padding.left=i,t.padding.right=i,t.padding.top=i,t.height=t.height+i,t.width=t.width+2*i}(e,a,r),{...e,...a,...pe(i,e,r),background:o,image:t,logo:n,contentInfo:r,verticalLine:me(e,r),logoInfo:ve(n,e,r)}}function pe(e,t,n){var i;const{primaryColor:a,secondaryColor:r}=t.theme,o=n.height/4,s=n.height-o,l=null!=(i=n.padding.left)?i:0,u=n.width-l;function f(t){return se(e,t.text)}return{ltText:{text:f(t.ltText),align:"left",isBold:!0,size:n.fontSize,color:a,padding:{top:o,left:l}},lbText:{text:f(t.lbText),align:"left",isBold:!1,baseline:"bottom",size:.8*n.fontSize,color:r,padding:{top:s,left:l}},rtText:{text:f(t.rtText),align:"left",isBold:!0,size:n.fontSize,color:a,padding:{top:o,left:u}},rbText:{text:f(t.rbText),align:"left",isBold:!1,baseline:"bottom",size:.8*n.fontSize,color:r,padding:{top:s,left:u}}}}function me(e,t){var n;const{theme:{secondaryColor:i}}=e,{height:a,fontSize:r,width:o}=t,s=r/15,l=o-(null!=(n=t.padding.left)?n:0)-s/2,u=a/4;return{color:i,width:s,start:{x:l,y:u},end:{x:l,y:a-u}}}function ve(e,t,n){var i;if(!e)return;let{logoSize:a=100}=t;const{height:r,width:o}=n;a/=100;const s=r/2/e.height*a;return{left:o-(null!=(i=n.padding.left)?i:0)-e.width*s,top:(r-e.height*s)/2,scale:s}}function Se(e){return"boolean"==typeof e.useOtherBorder&&e.useOtherBorder}function be(e,t){switch(e){case 1:return t.nextUInt8();case 3:case 8:return t.nextUInt16();case 4:case 9:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function Ie(e,t){var n,i,a=t.nextUInt16(),r=t.nextUInt16(),o=function(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(r),s=t.nextUInt32(),l=o*s;if(l>4&&(t=e.openWithOffset(t.nextUInt32())),2===r){var u=(n=t.nextString(s)).indexOf("\0");-1!==u&&(n=n.substr(0,u))}else if(7===r)n=t.nextBuffer(s);else if(0!==r)for(n=[],i=0;i<s;++i)n.push(be(r,t));return l<4&&t.skip(4-l),[a,n,r]}function xe(e,t,n){var i,a,r=t.nextUInt16();for(a=0;a<r;++a)n((i=Ie(e,t))[0],i[1],i[2])}var Pe={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var n,i,a,r;try{n=function(e){if("Exif\0\0"!==e.nextString(6))throw new Error("Invalid EXIF header");var t=e.mark(),n=e.nextUInt16();if(18761===n)e.setBigEndian(!1);else{if(19789!==n)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(42!==e.nextUInt16())throw new Error("Invalid TIFF data");return t}(e)}catch(ae){return!1}var o=n.openWithOffset(e.nextUInt32()),s=this.IFD0;xe(n,o,(function(e,n,r){switch(e){case 34853:a=n[0];break;case 34665:i=n[0];break;default:t(s,e,n,r)}}));var l=o.nextUInt32();if(0!==l){var u=n.openWithOffset(l);xe(n,u,t.bind(null,this.IFD1))}if(a){var f=n.openWithOffset(a);xe(n,f,t.bind(null,this.GPSIFD))}if(i){var c=n.openWithOffset(i),h=this.InteropIFD;xe(n,c,(function(e,n,i){40965===e?r=n[0]:t(h,e,n,i)}))}if(r){var g=n.openWithOffset(r);xe(n,g,t.bind(null,this.InteropIFD))}return!0}};function ye(e){return parseInt(e,10)}function Te(e,t){e=e.map(ye),t=t.map(ye);var n=e[0],i=e[1]-1,a=e[2],r=t[0],o=t[1],s=t[2];return Date.UTC(n,i,a,r,o,s,0)/1e3}function De(e){var t=e.substr(0,10).split("-"),n=e.substr(11,8).split(":"),i=e.substr(19,6).split(":").map(ye),a=3600*i[0]+60*i[1],r=Te(t,n);if("number"==typeof(r-=a)&&!isNaN(r))return r}function Ce(e){var t=e.split(" "),n=Te(t[0].split(":"),t[1].split(":"));if("number"==typeof n&&!isNaN(n))return n}var Fe,we,Oe={parseDateWithSpecFormat:Ce,parseDateWithTimezoneFormat:De,parseExifDate:function(e){var t=19===e.length&&":"===e.charAt(4);return 25===e.length&&"T"===e.charAt(10)?De(e):t?Ce(e):void 0}},Ee=[{section:Pe.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:Pe.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],Le=[{section:Pe.SubIFD,type:306,name:"ModifyDate"},{section:Pe.SubIFD,type:36867,name:"DateTimeOriginal"},{section:Pe.SubIFD,type:36868,name:"CreateDate"},{section:Pe.SubIFD,type:306,name:"ModifyDate"}],Be={castDegreeValues:function(e,t){Ee.forEach((function(n){var i=e(n);if(i){var a=e({section:n.section,type:n.refType,name:n.refName})===n.posVal?1:-1,r=(i[0]+i[1]/60+i[2]/3600)*a;t(n,r)}}))},castDateValues:function(e,t){Le.forEach((function(n){var i=e(n);if(i){var a=Oe.parseExifDate(i);void 0!==a&&t(n,a)}}))},simplifyValue:function(e,t){return Array.isArray(e)&&1===(e=e.map((function(e){return 10===t||5===t?e[0]/e[1]:e}))).length&&(e=e[0]),e}};var Me,ke,Re,Ue,Ge={parseSections:function(e,t){var n,i;for(e.setBigEndian(!0);e.remainingLength()>0&&218!==i;){if(255!==e.nextUInt8())throw new Error("Invalid JPEG section offset");n=(i=e.nextUInt8())>=208&&i<=217||218===i?0:e.nextUInt16()-2,t(i,e.branch(0,n)),e.skip(n)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,n;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",n=e-224):e>=192&&e<=207&&196!==e&&200!==e&&204!==e?(t="SOF",n=e-192):e>=208&&e<=215&&(t="RST",n=e-208)}var i={name:t};return"number"==typeof n&&(i.index=n),i}},Ne=Pe,Ae=Be;function _e(e,t,n,i,a,r,o){this.startMarker=e,this.tags=t,this.imageSize=n,this.thumbnailOffset=i,this.thumbnailLength=a,this.thumbnailType=r,this.app1Offset=o}function ze(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}_e.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength)&&("string"!=typeof e||("image/jpeg"===e.toLowerCase().trim()?6===this.thumbnailType:"image/tiff"===e.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e,t=this._getThumbnailStream();return Ge.parseSections(t,(function(t,n){"SOF"===Ge.getSectionName(t).name&&(e=Ge.getSizeFromSOFSection(n))})),e}},ze.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var e,t,n,i,a,r,o,s,l,u=this.stream.mark(),f=u.openWithOffset(0),c=this.flags;return c.resolveTagNames&&(o=we?Fe:(we=1,Fe={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})),c.resolveTagNames?(e={},s=function(t){return e[t.name]},l=function(t,n){e[t.name]=n}):(e=[],s=function(t){var n;for(n=0;n<e.length;++n)if(e[n].type===t.type&&e[n].section===t.section)return e.value},l=function(t,n){var i;for(i=0;i<e.length;++i)if(e[i].type===t.type&&e[i].section===t.section)return void(e.value=n)}),Ge.parseSections(f,(function(s,l){var f=l.offsetFrom(u);225===s?Ne.parseTags(l,(function(t,r,s,l){if(c.readBinaryTags||7!==l){if(513===r){if(n=s[0],c.hidePointers)return}else if(514===r){if(i=s[0],c.hidePointers)return}else if(259===r&&(a=s[0],c.hidePointers))return;if(c.returnTags)if(c.simplifyValues&&(s=Ae.simplifyValue(s,l)),c.resolveTagNames){var u=(t===Ne.GPSIFD?o.gps:o.exif)[r];u||(u=o.exif[r]),e.hasOwnProperty(u)||(e[u]=s)}else e.push({section:t,type:r,value:s})}}))&&(r=f):c.imageSize&&"SOF"===Ge.getSectionName(s).name&&(t=Ge.getSizeFromSOFSection(l))})),c.simplifyValues&&(Ae.castDegreeValues(s,l),Ae.castDateValues(s,l)),new _e(u,e,t,n,i,a,r)}};var $e=ze;var We=function(e,t){if(e instanceof(t=t||(0,eval)("this")).ArrayBuffer){var n=function(){if(ke)return Me;function e(e,t,n,i,a,r){this.global=a,t=t||0,n=n||e.byteLength-t,this.arrayBuffer=e.slice(t,t+n),this.view=new a.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(i),this.offset=0,this.parentOffset=(r||0)+t}return ke=1,e.prototype={setBigEndian:function(e){this.littleEndian=!e},nextUInt8:function(){var e=this.view.getUint8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.view.getInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},nextUInt32:function(){var e=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},nextInt16:function(){var e=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},nextInt32:function(){var e=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},nextFloat:function(){var e=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},nextDouble:function(){var e=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},nextBuffer:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return t=String.fromCharCode.apply(null,new this.global.Uint8Array(t)),this.offset+=e,t},mark:function(){var t=this;return{openWithOffset:function(n){return n=(n||0)+this.offset,new e(t.arrayBuffer,n,t.arrayBuffer.byteLength-n,!t.littleEndian,t.global,t.parentOffset)},offset:this.offset,getParentOffset:function(){return t.parentOffset}}},offsetFrom:function(e){return this.parentOffset+this.offset-(e.offset+e.getParentOffset())},skip:function(e){this.offset+=e},branch:function(t,n){return n="number"==typeof n?n:this.arrayBuffer.byteLength-(this.offset+t),new e(this.arrayBuffer,this.offset+t,n,!this.littleEndian,this.global,this.parentOffset)}},Me=e}();return new $e(new n(e,0,e.byteLength,!0,t))}var i=function(){if(Ue)return Re;function e(e,t,n,i){this.buffer=e,this.offset=t||0,n="number"==typeof n?n:e.length,this.endPosition=this.offset+n,this.setBigEndian(i)}return Ue=1,e.prototype={setBigEndian:function(e){this.bigEndian=!!e},nextUInt8:function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.buffer.readInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,e},nextUInt32:function(){var e=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,e},nextInt16:function(){var e=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,e},nextInt32:function(){var e=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,e},nextFloat:function(){var e=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,e},nextDouble:function(){var e=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,e},nextBuffer:function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.endPosition-this.offset},nextString:function(e){var t=this.buffer.toString("utf8",this.offset,this.offset+e);return this.offset+=e,t},mark:function(){var t=this;return{openWithOffset:function(n){return n=(n||0)+this.offset,new e(t.buffer,n,t.endPosition-n,t.bigEndian)},offset:this.offset}},offsetFrom:function(e){return this.offset-e.offset},skip:function(e){this.offset+=e},branch:function(t,n){return n="number"==typeof n?n:this.endPosition-(this.offset+t),new e(this.buffer,this.offset+t,n,this.bigEndian)}},Re=e}();return new $e(new i(e,0,e.length,!0))};function Ve(e){return function(e){return new Promise((t=>{const n=new FileReader;n.onload=()=>{n.result instanceof ArrayBuffer?t(n.result):t(new ArrayBuffer(0))},n.readAsArrayBuffer(e)}))}(e).then((e=>Ye(e)))}function Ye(e){return We(e).parse()}function He(e){return new Promise((t=>{const{image:n}=e;n?"string"==typeof n?fetch(n).then((e=>e.arrayBuffer())).then((e=>{const n=Ye(e);t(n.tags)})).catch((()=>{t(void 0)})):Ve(n).then((e=>{t(e.tags)})).catch((()=>{t(void 0)})):t(void 0)}))}function Je(e){return new Promise(((t,n)=>{const i=new Image;i.onload=()=>{t(i)},i.onerror=e=>{n(e)},i.src=e}))}function Xe(e){return Je("string"==typeof e?e:URL.createObjectURL(e))}const je=new WeakMap,qe=new Map;function Qe(e){return"string"==typeof e?function(e){return new Promise(((t,n)=>{if(qe.has(e)){const n=qe.get(e);n&&t(n)}else Je(e).then((n=>{qe.set(e,n),t(n)})).catch((e=>{n(e)}))}))}(e):function(e){return new Promise(((t,n)=>{if(je.has(e)){const n=je.get(e);n&&t(n)}else Xe(e).then((n=>{je.set(e,n),t(n)})).catch((e=>{n(e)}))}))}(e)}function Ke(e,t,n){return new Promise((i=>{let a=e.logo;"auto"===a&&(a=function(){var e;let i=t&&t.Make;if(!i)return"";i=null==(e=te(i,""))?void 0:e.toLowerCase();const a=n.find((e=>e.key===i));return a?a.url:""}()),a?Qe(a).then((e=>{i(e)})).catch((()=>{i(null)})):i(null)}))}function Ze(e){return Xe(e.image).catch((()=>null))}function et(e){const t=B(),{exifData:n}=function(e){const t=P();function n(){He(e.value).then((e=>{t.value=e}))}return T((()=>e.value.image),(()=>{n()})),y((()=>{n()})),{exifData:t}}(e),{mainImage:i}=function(e){const t=P(null);function n(){Ze(e.value).then((e=>{t.value=e}))}return T((()=>e.value.image),(()=>{n()})),y((()=>{n()})),{mainImage:t}}(e),{logoImage:a}=function(e,t){const n=P(null),i=R();function a(){Ke(e.value,t.value,i.logos).then((e=>{n.value=e}))}return T((()=>[e.value.logo,e.value.image,t.value,i.logos]),(()=>{a()})),y((()=>{a()})),{logoImage:n}}(e,n);function r(){t.value=de(e.value,i.value,a.value,n.value)}return T((()=>[n.value,i.value,a.value,e.value]),(()=>{r()}),{deep:!0}),y((()=>{r()})),{renderInfo:t}}function tt(e,t){const n=e.getContext("2d");if(!n)return;const{x:i,y:a,scale:r}=function(e,t){const{width:n=0,height:i=0}=e,{width:a=0,height:r=0}=t;if(0===a||0===r)return{scale:1,width:n,height:i,x:0,y:0};let o=0,s=0;const l=n/a,u=i/r,f=l>u?u:l,c=a*f,h=r*f;return l>u?o=(n-c)/2:s=(i-h)/2,{scale:f,width:c,height:h,x:o,y:s}}(e,t);n.clearRect(0,0,e.width,e.height),n.save(),n.translate(i,a),n.scale(r,r),0!==t.width&&0!==t.height||(t={...t,width:e.width,height:e.height}),function(e,t){at(e,(()=>{e.fillStyle=t.background,e.fillRect(0,0,t.width,t.height)}))}(n,t),function(e,t){at(e,(()=>{var n,i;const{padding:a,image:r}=t;r&&(e.translate(null!=(n=null==a?void 0:a.left)?n:0,null!=(i=null==a?void 0:a.top)?i:0),e.drawImage(r,0,0,r.width,r.height))}))}(n,t),function(e,t){at(e,(()=>{const{padding:n,contentInfo:i}=t,{left:a=0}=n;e.translate(a+i.left,t.height-i.top),function(e,t){!function(e,t){const{ltText:n,lbText:i}=t;nt(e,n),nt(e,i)}(e,t);const{contentInfo:n,logo:i}=t,{gap:a}=n;let r=function(e,t){var n,i,a,r;const{rtText:o,rbText:s}=t,l=null!=(i=null==(n=it(e,o))?void 0:n.width)?i:0,u=null!=(r=null==(a=it(e,s))?void 0:a.width)?r:0,f=u>l?u:l;return at(e,(()=>{e.translate(-f,0),nt(e,o),nt(e,s)})),f}(e,t);const o=0!==r;o&&i&&(r+=a,function(e,t,n){const{verticalLine:i}=t;if(!i)return;at(e,(()=>{e.translate(-n,0);const{start:t,end:a,color:r,width:o}=i;e.lineWidth=o,e.strokeStyle=r,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(a.x,a.y),e.stroke()}))}(e,t,r));o&&(r+=a);!function(e,t,n){const{logo:i,logoInfo:a}=t;if(!i||!a)return;n=a.left-n,at(e,(()=>{e.translate(n,a.top),e.scale(a.scale,a.scale),e.drawImage(i,0,0,i.width,i.height)}))}(e,t,r)}(e,{...t,width:i.width,height:i.width})}))}(n,t),n.restore()}function nt(e,t){const{padding:n={}}=t,{left:i=0,top:a=0}=n;let r;return at(e,(()=>{e.translate(i,a);const{text:n,color:o="",size:s=0,align:l="center",isBold:u=!1,baseline:f="top"}=t;e.fillStyle=o,e.font=`${u?"bold":""} ${s}px sans-serif`,e.textBaseline=f||"top",e.textAlign=l||"center",e.fillText(n,0,0),r=e.measureText(n)})),r}function it(e,t){let n;return at(e,(()=>{const{text:i,size:a,isBold:r,baseline:o,align:s}=t;e.font=`${r?"bold":""} ${a}px sans-serif`,e.textBaseline=o||"top",e.textAlign=s||"center",n=e.measureText(i)})),n}function at(e,t){e.save(),t(),e.restore()}const rt={class:"image-render"},ot=U(e({__name:"ImageRender",props:{config:null},setup(e){const n=u(e,"config"),i=P(),{renderInfo:a}=et(n);function r(){i.value&&a.value&&tt(i.value,a.value)}return T((()=>a.value),(()=>{r()})),y((()=>{r()})),(e,n)=>(t(),f("div",rt,[I("canvas",{ref_key:"canvas",ref:i,class:"canvas",height:"1024",width:"1024"},null,512)]))}}),[["__scopeId","data-v-a1054974"]]),st={class:"page-base"},lt={class:"control-area"},ut={class:"control-body"},ft={class:"footer"},ct=U(e({__name:"PageBase",props:{frameConfig:null},setup(e){const n=u(e,"frameConfig");return(e,i)=>(t(),f("div",st,[a(ot,{config:c(n)},null,8,["config"]),I("div",lt,[M(e.$slots,"top-btn",{},void 0,!0),I("div",ut,[a(ee,{config:c(n)},null,8,["config"])]),I("div",ft,[M(e.$slots,"footer",{},void 0,!0)])])]))}}),[["__scopeId","data-v-6057a0d5"]]);function ht(e=""){return{image:e,logo:"auto",borderSize:80,useOtherBorder:!1,contentSize:100,logoSize:100,ltText:{text:"{make} {model}"},lbText:{text:""},rtText:{text:""},rbText:{text:""},theme:{primaryColor:"#000000",secondaryColor:"#7e7e7c",background:"#ffffff"}}}function gt(){const e=P(ht(G("/logo/milai-frame/","/images/logo.jpg")));return{frameConfig:e,resetConfig:()=>{e.value=ht(e.value.image)}}}function dt(e="",t=0){return{id:t,name:e,template:ht()}}function pt(e,t=""){return{...e,template:{...e.template,image:t}}}const mt=k("templateList",(()=>{const e=P([]);function t(t){e.value.push(JSON.parse(JSON.stringify(pt(t)))),n()}function n(){var t;t=e.value,localStorage.setItem("milaiFrameWeb__templateList",JSON.stringify(t))}return y((()=>{e.value=function(){const e=localStorage.getItem("milaiFrameWeb__templateList");if(!e)return[];try{const t=JSON.parse(e);return t&&Array.isArray(t)?t:[]}catch(ae){return[]}}()})),{templateList:e,deleteByIndex:function(t){t<0||t>=e.value.length||(e.value.splice(t,1),n())},getOrCreateByIndex:function(t){const n=e.value[t];return n?JSON.parse(JSON.stringify(pt(n,G("/logo/milai-frame/","/images/logo.jpg")))):dt()},updateOrPushByIndex:function(i,a){e.value[i]?(e.value[i]=JSON.parse(JSON.stringify(pt(a))),n()):t(a)},push:t}}));export{ct as P,Ke as a,de as b,Ze as c,dt as d,mt as e,gt as f,He as p,tt as r,j as u};
